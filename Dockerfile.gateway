FROM node:20-alpine
WORKDIR /app
COPY . /app
RUN npm install -g pnpm@8 && pnpm install --frozen-lockfile
WORKDIR /app
RUN pnpm -w -r build || true
EXPOSE 4000
CMD ["node","./gateway/dist/server.js"]
